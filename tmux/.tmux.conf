# ---Change the key bindings-------------------
# Split panes using | and -
bind = split-window -h
bind - split-window -v
unbind '"'
unbind %


bind j resize-pane -D 10
bind k resize-pane -U 10
bind l resize-pane -L 10
bind h resize-pane -R 10

#Change prefix to be CTRL + Space
unbind C-b
set -g prefix C-Space

set -sg escape-time 0 # Makes VIM more responsive

# Boost stored history
set -g history-limit 20000
set -g default-terminal "xterm-256color"
 

# Tidy up renaming of panes and windows
bind , command-prompt -p "(rename-window '#W')" "rename-window '%%'" # When renaming a window, start from an empty string
bind '$' command-prompt -p "(rename-session '#S')" "rename-session '%%'"  # When renaming session, start from empty string

# Ensure windows are opened in directory they're called from
bind c new-window -c "#{pane_current_path}"

# Update some default values for pane/window count 
set -g base-index 1
setw -g pane-base-index 1

# Functions for key bindings, this allows multi pane typing with PREFIX + a or PREFIX + A
bind-key a set-window-option synchronize-panes on \;\
  set-window-option pane-active-border-style fg=red \;\
  set-window-option pane-border-style fg=yellow \;\
  display-message "Sync panes ON"
bind-key A set-window-option synchronize-panes off \;\
  set-window-option pane-active-border-style fg=green \;\
  set-window-option pane-border-style default \;\
  display-message "Sync panes OFF"

# new display settings:
# Status bar ------------------------------------------------------------- 
# Colors
set -g @tasks_format_begin '#[fg=white,bg=colour236]'
set -g @tasks_format_end '#[fg=white,bg=colour236]'
# Icons
set -g @tasks_icon_urgent 'â§— '
set -g @tasks_icon_outstanding '+ '
# set-option -g status on
set-option -g set-titles on
set -g status-interval 1
set-option -g update-environment "SSH_ASKPASS SSH_AUTH_SOCK SSH_AGENT_PID SSH_CONNECTION DISPLAY"

set -g status-position bottom
set -g status-bg colour237
set -g status-fg colour137
set -g status-attr dim
set -g status-left '#[fg=colour197]#(~/dotfiles/scripts/internet_info.sh) '
set -g status-right '#[fg=colour81]â™ª #(~/dotfiles/scripts/now_playing.sh) #(~/dotfiles/scripts/battery.sh) #[fg=colour255,bg=colour241,bold] %a %m-%d #[fg=colour255,bg=colour241,bold] %H:%M:%S #[fg=colour165]#[bg=default] #H '
set -g status-right-length 100
set -g status-left-length 70

set-window-option -g aggressive-resize
setw -g window-status-current-fg colour170
setw -g window-status-current-bg colour239
setw -g window-status-current-attr bold
setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour170]#F '

set-option -g set-titles-string 'MANAMAN TMUX| #S | / #W'
setw -g window-status-current-fg colour170
setw -g window-status-current-attr bold
setw -g window-status-current-format ' #I#[fg=colour250]:#[fg=colour255]#W#[fg=colour170]#F '



# ---Display settings----------------------------
#set -g status-bg black
#set -g status-fg white
#set -g window-status-current-bg white
#set -g window-status-current-fg black
#set -g window-status-current-attr bold
#set -g default-terminal "screen-256color"
#set -g status-left-length 50
#set -g status-interval 5  # set update frequencey (default 15 seconds)

#set-option -g status-left "#[fg=black]#[bg=blue]â®€#[bg=blue]#[fg=white,bold] #S #[default]#[fg=blue]â®€#[bg=black] #[fg=white]#H "

#set -g status-right '#[fg=colour81]ðŸŽ¶ #(~/dotfiles/scripts/nowPlaying.sh) #[fg=white] #{sysstat_cpu} #{sysstat_mem} #[fg=white]#(~/dotfiles/scripts/battery.sh) %R %d %b #[fg=green]â®‚#[fg=black]#[bg=green]#(whoami)'
#set -g status-right-length 120



#set -g status-right "#{sysstat_cpu} | #{sysstat_mem} | #{sysstat_swap} | #{sysstat_loadavg} | #[fg=cyan]#(echo $USER)#[default]@#H"
# List of plugins
#Â set -g @plugin 'tmux-plugins/tpm'
#Â set -g @plugin 'tmux-plugins/tmux-sensible'
# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'git@github.com/user/plugin'
# set -g @plugin 'git@bitbucket.com/user/plugin'
# set -g @plugin 'samoshkin/tmux-plugin-sysstat'
# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
# run '~/.tmux/plugins/tpm/tpm'
